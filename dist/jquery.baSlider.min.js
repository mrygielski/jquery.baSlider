!function(m){m.fn.baSlider=function(t){
var h=m.extend({},m.fn.baSlider.defaults,t),e={},s=this.find("[baSlider-handler]"),i=this.find("[baSlider-image]"),f=this.width(),r=this.height(),a=this.find(".frame"),o=this.find(".after"),n=(this.find(".before"),
this.find(".after").find("div")),l={elem:null,x:0,y:0,state:!1},p={x:0,y:0},d="auto"==h.width?f:"100%",g="auto"==h.height?r:h.height
;return imageDimensions=function(t){var e,i,h=f,s=r,a=s/h,o=t.width(),n=t.height()/o;return n<a?e=(i=s)/n:(i=h*n,e=h),{width:e+"px",height:i+"px",
left:(h-e)/2+"px",top:(s-i)/2+"px"}},{init:(e={tmpAfterWidth:0,tmpAfterHeight:0,init:function(){"horizontal"==h.align?(o.width(h.start.horizontal),
o.height(g)):(o.width(d),o.height(h.start.vertical)),a.width(f),a.height(g),n.width(f),n.height(g),this.tmpAfterWidth=parseInt(o.width()),
this.tmpAfterHeight=parseInt(o.height())},handlerPosition:function(t){switch(h.handler.position){case"auto":
"horizontal"==h.align?(s.css("left",parseInt(o.width())-(s.width()/2+h.handler.offsetX)),
s.css("top",parseInt(o.height()/2)-(s.height()/2+h.handler.offsetY))):(s.css("left",parseInt(o.width()/2)-(s.width()/2+h.handler.offsetX)),
s.css("top",parseInt(o.height())-(s.height()/2+h.handler.offsetY)));break;case"top":s.css("left",parseInt(o.width())-(s.width()/2+h.handler.offsetX)),
s.css("top",parseInt(0+h.handler.offsetY));break;case"bottom":s.css("left",parseInt(o.width())-(s.width()/2+h.handler.offsetX)),
s.css("bottom",parseInt(0+h.handler.offsetY));break;case"left":s.css("left",parseInt(h.handler.offsetX)),
s.css("top",parseInt(o.height())-(s.height()/2+h.handler.offsetY));break;case"right":s.css("right",parseInt(h.handler.offsetX)),
s.css("top",parseInt(o.height())-(s.height()/2+h.handler.offsetY))}},move:function(t){var e=function(t){if(l.state){l.elem.style.opacity="0.5",
p.x=("mousemove"==t.type?t.pageX:t.originalEvent.touches[0].pageX)-l.x,p.y=("mousemove"==t.type?t.pageY:t.originalEvent.touches[0].pageY)-l.y
;var e=m(l.elem).offset();"horizontal"==h.align?(m(l.elem).offset({left:e.left+p.x}),
s.css("left",l.x-p.x-o.offset().left-(s.width()/2+h.handler.offsetX))):(m(l.elem).offset({top:e.top+p.y}),
s.css("top",l.y-p.y-o.offset().top-(s.height()/2+h.handler.offsetY))),
"horizontal"==h.align?o.width(l.x-p.x-o.offset().left):o.height(l.y-p.y-o.offset().top),
l.x="mousemove"==t.type?t.pageX:t.originalEvent.touches[0].pageX,l.y="mousemove"==t.type?t.pageY:t.originalEvent.touches[0].pageY}}
;m(document).mousemove(function(t){e(t)});var i=this;s.on("mouseup mousedown touchstart touchmove touchend",function(t){
if("mouseup"!=t.type&&"touchend"!=t.type||l.state&&(l.elem.style.opacity="1",l.state=!1,"horizontal"==h.align?(s.animate({
left:parseInt(i.tmpAfterWidth)-(s.width()/2+h.handler.offsetX)},h.speed),o.animate({width:parseInt(i.tmpAfterWidth)},h.speed)):(s.animate({
top:parseInt(i.tmpAfterHeight)-(s.height()/2+h.handler.offsetY)},h.speed),o.animate({height:parseInt(i.tmpAfterHeight)},h.speed))),
"mousedown"==t.type||"touchstart"==t.type)return l.state||((l.elem=this).style.opacity="0.5",
l.x="mousedown"==t.type?t.pageX:t.originalEvent.touches[0].pageX,l.y="mousedown"==t.type?t.pageY:t.originalEvent.touches[0].pageY,l.state=!0),!1
;"touchmove"==t.type&&e(t)})},scaleImages:function(t){var e=imageDimensions(i);i.css({width:e.width,
height:"auto"==h.imgHeight?e.height:"frame"==h.imgHeight?h.height:h.imgHeight,left:e.left,top:e.top})}}).init(),handler:e.handlerPosition(),
move:e.move(),scaleImages:e.scaleImages()}},m.fn.baSlider.defaults={align:"horizontal",start:{horizontal:"50%",vertical:"50%"},handler:{
position:"auto",offsetX:0,offsetY:0},speed:300,height:"auto",imgHeight:"auto"}}(jQuery);