!function(g){g.fn.baSlider=function(t){
var a=g.extend({},g.fn.baSlider.defaults,t),e={},s=this.find("[baSlider-handler]"),i=this.find("[baSlider-image]"),f=this.width(),r=this.height(),n=this.find(".frame"),h=this.find(".after"),o=(this.find(".before"),
this.find(".after").find("div")),d={elem:null,x:0,y:0,state:!1},l={x:0,y:0},p="auto"==a.width?f:"100%",m="auto"==a.height?r:a.height
;return imageDimensions=function(t){var e,i,a=f,s=r,n=s/a,h=t.width(),o=t.height()/h;return o<n?e=(i=s)/o:(i=a*o,e=a),{width:e+"px",height:i+"px",
left:(a-e)/2+"px",top:(s-i)/2+"px"}},{init:(e={tmpAfterWidth:0,tmpAfterHeight:0,init:function(){"horizontal"==a.align?(h.width(a.start.horizontal),
h.height(m)):(h.width(p),h.height(a.start.vertical)),n.width(f),n.height(m),o.width(f),o.height(m),this.tmpAfterWidth=parseInt(h.width()),
this.tmpAfterHeight=parseInt(h.height())},handlerPosition:function(t){switch(a.handler.position){case"auto":
"horizontal"==a.align?(s.css("left",parseInt(h.width())-(s.width()/2+a.handler.offsetX)),
s.css("top",parseInt(h.height()/2)-(s.height()/2+a.handler.offsetY))):(s.css("left",parseInt(h.width()/2)-(s.width()/2+a.handler.offsetX)),
s.css("top",parseInt(h.height())-(s.height()/2+a.handler.offsetY)));break;case"top":s.css("left",parseInt(h.width())-(s.width()/2+a.handler.offsetX)),
s.css("top",parseInt(0+a.handler.offsetY));break;case"bottom":s.css("left",parseInt(h.width())-(s.width()/2+a.handler.offsetX)),
s.css("bottom",parseInt(0+a.handler.offsetY));break;case"left":s.css("left",parseInt(a.handler.offsetX)),
s.css("top",parseInt(h.height())-(s.height()/2+a.handler.offsetY));break;case"right":s.css("right",parseInt(a.handler.offsetX)),
s.css("top",parseInt(h.height())-(s.height()/2+a.handler.offsetY))}},bounce:function(){var e=this;a.anim.play&&(d.state||setTimeout(function(){
if("horizontal"==a.align)for(var t=0;t<a.anim.times;t++)h.animate({width:"-="+Math.abs(a.anim.distance)},a.anim.speed).animate({
width:"+="+Math.abs(a.anim.distance)},a.anim.speed),s.animate({left:"-="+Math.abs(a.anim.distance)},a.anim.speed).animate({
left:"+="+Math.abs(a.anim.distance)},a.anim.speed);else for(t=0;t<a.anim.times;t++)h.animate({height:"-="+Math.abs(a.anim.distance)
},a.anim.speed).animate({height:"+="+Math.abs(a.anim.distance)},a.anim.speed),s.animate({top:"-="+Math.abs(a.anim.distance)},a.anim.speed).animate({
top:"+="+Math.abs(a.anim.distance)},a.anim.speed);setTimeout(function(){e.bounce()},a.anim.startDelay)},a.anim.startDelay))},move:function(t){
var e=this,i=function(t){if(d.state){d.elem.style.opacity="0.5",l.x=("mousemove"==t.type?t.pageX:t.originalEvent.touches[0].pageX)-d.x,
l.y=("mousemove"==t.type?t.pageY:t.originalEvent.touches[0].pageY)-d.y;var e=g(d.elem).offset();"horizontal"==a.align?(g(d.elem).offset({
left:e.left+l.x}),s.css("left",d.x-l.x-h.offset().left-(s.width()/2+a.handler.offsetX))):(g(d.elem).offset({top:e.top+l.y}),
s.css("top",d.y-l.y-h.offset().top-(s.height()/2+a.handler.offsetY))),
"horizontal"==a.align?h.width(d.x-l.x-h.offset().left):h.height(d.y-l.y-h.offset().top),
d.x="mousemove"==t.type?t.pageX:t.originalEvent.touches[0].pageX,d.y="mousemove"==t.type?t.pageY:t.originalEvent.touches[0].pageY}}
;g(document).mousemove(function(t){i(t)}),s.on("mouseup mousedown touchstart touchmove touchend",function(t){
if("mouseup"!=t.type&&"touchend"!=t.type||d.state&&(d.elem.style.opacity="1",d.state=!1,"horizontal"==a.align?(s.animate({
left:parseInt(e.tmpAfterWidth)-(s.width()/2+a.handler.offsetX)},a.speed),h.animate({width:parseInt(e.tmpAfterWidth)},a.speed)):(s.animate({
top:parseInt(e.tmpAfterHeight)-(s.height()/2+a.handler.offsetY)},a.speed),h.animate({height:parseInt(e.tmpAfterHeight)},a.speed)),
setTimeout(function(){e.bounce()},a.animation.delay)),"mousedown"==t.type||"touchstart"==t.type)return d.state||(d.elem=this,h.clearQueue().stop(),
s.clearQueue().stop(),this.style.opacity="0.5",d.x="mousedown"==t.type?t.pageX:t.originalEvent.touches[0].pageX,
d.y="mousedown"==t.type?t.pageY:t.originalEvent.touches[0].pageY,d.state=!0),!1;"touchmove"==t.type&&i(t)})},scaleImages:function(t){
var e=imageDimensions(i);i.css({width:e.width,height:"auto"==a.imgHeight?e.height:"frame"==a.imgHeight?a.height:a.imgHeight,left:e.left,top:e.top})}
}).init(),handler:e.handlerPosition(),bounce:e.bounce(),move:e.move(),scaleImages:e.scaleImages()}},g.fn.baSlider.defaults={align:"horizontal",start:{
horizontal:"50%",vertical:"50%"},anim:{play:!0,startDelay:4e3,delay:2e3,speed:300,distance:55,times:2},handler:{position:"auto",offsetX:0,offsetY:0},
speed:300,height:"auto",imgHeight:"auto"}}(jQuery);