!function(u){u.fn.baSlider=function(e){
var t,i=u.extend({},u.fn.baSlider.defaults,e),o=this.find("[baSlider-handler]"),s=this.find("[baSlider-image]"),f=this.width(),d=this.height(),a=this.find(".frame"),n=this.find(".after"),h=(this.find(".before"),
this.find(".after").find("div")),r={elem:null,x:0,y:0,state:!1},l={x:0,y:0},p="auto"==i.height?d:i.height;return imageDimensions=function(e){
var t,i,o=f,s=d,a=s/o,n=e.width(),h=e.height()/n;return h<a?t=(i=s)/h:(i=o*h,t=o),{width:t+"px",height:i+"px",left:(o-t)/2+"px",top:(s-i)/2+"px"}},{
init:(t={init:function(){n.width("50%"),n.height(p),a.width(f),a.height(p),h.width(f),h.height(p)},handlerPosition:function(e){
switch(i.handler.position){case"auto":o.css("left",parseInt(a.width()/2)-(o.width()/2+i.handler.offsetX)),
o.css("top",parseInt(a.height())/2-(o.height()/2+i.handler.offsetY));break;case"top":
o.css("left",parseInt(a.width()/2)-(o.width()/2+i.handler.offsetX)),o.css("top",parseInt(0+i.handler.offsetY));break;case"bottom":
o.css("left",parseInt(a.width()/2)-(o.width()/2+i.handler.offsetX)),o.css("bottom",parseInt(0+i.handler.offsetY))}},move:function(e){
var t=function(e){if(r.state){r.elem.style.opacity="0.5",l.x=("mousemove"==e.type?e.pageX:e.originalEvent.touches[0].pageX)-r.x,
l.y=("mousemove"==e.type?e.pageY:e.originalEvent.touches[0].pageY)-r.y;var t=u(r.elem).offset();u(r.elem).offset({left:t.left+l.x}),
o.css("left",r.x-n.offset().left-(o.width()/2+i.handler.offsetX)),n.width(r.x-l.x-n.offset().left),
r.x="mousemove"==e.type?e.pageX:e.originalEvent.touches[0].pageX,r.y="mousemove"==e.type?e.pageY:e.originalEvent.touches[0].pageY}}
;u(document).mousemove(function(e){t(e)}),o.on("mouseup mousedown touchstart touchmove touchend",function(e){
if("mouseup"!=e.type&&"touchend"!=e.type||r.state&&(r.elem.style.opacity="1",r.state=!1,o.animate({left:parseInt(f/2)-(o.width()/2+i.handler.offsetX)
},i.speed),n.animate({width:parseInt(f/2)},i.speed)),"mousedown"==e.type||"touchstart"==e.type)return r.state||((r.elem=this).style.opacity="0.5",
r.x="mousedown"==e.type?e.pageX:e.originalEvent.touches[0].pageX,r.y="mousedown"==e.type?e.pageY:e.originalEvent.touches[0].pageY,r.state=!0),!1
;"touchmove"==e.type&&t(e)})},scaleImages:function(e){var t=imageDimensions(s);s.css({width:t.width,
height:"auto"==i.imgHeight?t.height:"frame"==i.imgHeight?i.height:i.imgHeight,left:t.left,top:t.top})}}).init(),handler:t.handlerPosition(),
move:t.move(),scaleImages:t.scaleImages()}},u.fn.baSlider.defaults={handler:{position:"auto",offsetX:0,offsetY:0},speed:300,height:"auto",
imgHeight:"auto"}}(jQuery);